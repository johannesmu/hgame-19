{"version":3,"sources":["app.js","functions.js"],"names":["windDirection","initApp","resizeCanvas","initStage","gameContainer","document","getElementById","containerHeight","clientHeight","containerWidth","clientWidth","canvas","setAttribute","elm","createjs","Stage","initTimer","rate","timer","Ticker","useRAF","framerate","setupPlayer","loadImage","then","image","spriteSheetData","images","frames","width","height","animations","fly","dropping","dead","spriteSheet","SpriteSheet","animation","Sprite","catch","err","url","Promise","resolve","reject","Image","addEventListener","src","getRandom","limit","Math","round","random","window","windowWidth","querySelector","stage","player","playerObj","x","y","scaleX","scaleY","gotoAndPlay","addChild","update","on"],"mappings":"AAAA,IAAAA,cAAA,ECAA,SAAAC,UACAC,eACAC,YAGA,SAAAD,eAEA,MAAAE,EAAAC,SAAAC,eAAA,kBACAC,EAAAH,EAAAI,aACAC,EAAAL,EAAAM,YAEAC,EAAAN,SAAAC,eAAA,eACAK,EAAAC,aAAA,QAAAH,GACAE,EAAAC,aAAA,SAAAL,EAAA,GAGA,SAAAJ,UAAAU,GAGA,OADA,IAAAC,SAAAC,MAAAF,GAIA,SAAAG,UAAAC,GACA,MAAAC,EAAAJ,SAAAK,OAGA,OAFAD,EAAAE,QAAA,EACAF,EAAAG,UAAAJ,EACAC,EAGA,SAAAI,cACA,OAAAC,UAAA,sCACAC,KAAAC,IACA,MAAAC,EAAA,CACAC,OAAA,CAAAF,GACAG,OAAA,CACAC,MAAA,IACAC,OAAA,KAEAC,WAAA,CACAC,IAAA,CAAA,EAAA,IACAC,SAAA,CAAA,GACAC,KAAA,CAAA,KAGAC,EAAA,IAAArB,SAAAsB,YAAAV,GACAW,EAAA,IAAAvB,SAAAwB,OAAAH,EAAA,OAEA,OADA,IAAArB,SAAAwB,OAAAH,EAAAE,KAGAE,MAAAC,GACA,MAIA,SAAAjB,UAAAkB,GACA,OAAA,IAAAC,QAAA,CAAAC,EAAAC,KACA,MAAAnB,EAAA,IAAAoB,MACApB,EAAAqB,iBAAA,OAAA,KACAH,EAAAlB,KAEAA,EAAAqB,iBAAA,QAAAN,GAAAI,EAAAJ,IACAf,EAAAsB,IAAAN,IAMA,SAAAO,UAAAC,GACA,OAAAC,KAAAC,MAAAD,KAAAE,SAAAH,GDlEAI,OAAAP,iBAAA,OAAA,KACA7C,UACA,MAAAqD,EAAAjD,SAAAkD,cAAA,mBAAA7C,YAGA8C,GAFAnD,SAAAkD,cAAA,mBAAA/C,aAEAL,UADAE,SAAAkD,cAAA,kBAEArC,EAAAF,UAAA,KACA,IAAAyC,EAAA,KACAnC,cACAE,KAAAkC,IACAD,EAAAC,EACAD,EAAAE,EAAAL,EAAA,EACAG,EAAAG,EAAA,IACAH,EAAAI,OAAA,GACAJ,EAAAK,OAAA,GACAL,EAAAM,YAAA,OACAP,EAAAQ,SAAAP,GACAD,EAAAS,WAGA/C,EAAAgD,GAAA,OAAA,KACAV,EAAAS","file":"../main.min.js","sourcesContent":["let windDirection = 3;\r\n\r\nwindow.addEventListener('load', () => {\r\n    initApp();\r\n    const windowWidth = document.querySelector('#game-container').clientWidth;\r\n    const windowHeight = document.querySelector('#game-container').clientHeight;\r\n    const canvasElement = document.querySelector('#main-canvas');\r\n    const stage = initStage( canvasElement );\r\n    const timer = initTimer(120);\r\n    let player = null;\r\n    setupPlayer()\r\n    .then((playerObj) => {\r\n        player = playerObj;\r\n        player.x = windowWidth/2;\r\n        player.y = 100;\r\n        player.scaleX = 0.5;\r\n        player.scaleY = 0.5;\r\n        player.gotoAndPlay('fly');\r\n        stage.addChild(player);\r\n        stage.update();\r\n    })\r\n    \r\n    timer.on('tick', () => {\r\n        stage.update();\r\n    })\r\n})","function initApp() {\r\n  resizeCanvas();\r\n  initStage();\r\n}\r\n\r\nfunction resizeCanvas() {\r\n  //get container width and height\r\n  const gameContainer = document.getElementById('game-container');\r\n  const containerHeight = gameContainer.clientHeight;\r\n  const containerWidth = gameContainer.clientWidth;\r\n  // set canvas width and height\r\n  const canvas = document.getElementById('main-canvas');\r\n  canvas.setAttribute('width', containerWidth);\r\n  canvas.setAttribute('height', (containerHeight - 5));\r\n}\r\n\r\nfunction initStage(elm) {\r\n  // initialise canvas\r\n  const stage = new createjs.Stage(elm);\r\n  return stage;\r\n}\r\n\r\nfunction initTimer(rate) {\r\n  const timer = createjs.Ticker;\r\n  timer.useRAF = true;\r\n  timer.framerate = rate;\r\n  return timer;\r\n}\r\n\r\nfunction setupPlayer() {\r\n  return loadImage(\"assets/sprites/player/sprite2X.png\")\r\n  .then((image) => {\r\n    const spriteSheetData = {\r\n      images: [image],\r\n      frames: {\r\n        width: 400,\r\n        height: 300\r\n      },\r\n      animations: {\r\n        fly: [0, 49],\r\n        dropping: [6],\r\n        dead: [7]\r\n      }\r\n    };\r\n    const spriteSheet = new createjs.SpriteSheet(spriteSheetData);\r\n    const animation = new createjs.Sprite(spriteSheet, \"fly\");\r\n    const player = new createjs.Sprite(spriteSheet, animation);\r\n    return player;\r\n  })\r\n  .catch((err) => {\r\n    return null;\r\n  })\r\n}\r\n\r\nfunction loadImage(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const image = new Image();\r\n    image.addEventListener('load', () => {\r\n      resolve(image);\r\n    })\r\n    image.addEventListener('error', (err) => reject(err))\r\n    image.src = url;\r\n  })\r\n}\r\n\r\n\r\n\r\nfunction getRandom( limit ) {\r\n  return Math.round( Math.random() * limit );\r\n}"]}